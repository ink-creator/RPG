<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Dice Manager</title>

<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>

<style>
body {
  font-family: Arial, sans-serif;
  background: linear-gradient(135deg,#0f2027,#203a43,#2c5364);
  color: white;
  text-align: center;
  padding: 30px;
}

.container {
  max-width: 600px;
  margin: auto;
}

input {
  padding: 10px;
  width: 90%;
  margin: 8px 0;
  border-radius: 8px;
  border: none;
}

button {
  padding: 10px 15px;
  margin: 5px;
  border-radius: 8px;
  border: none;
  cursor: pointer;
  font-weight: bold;
  transition: 0.2s;
}

button:hover {
  transform: scale(1.05);
}

.dice button {
  background: #ff9800;
  color: white;
}

.action {
  background: #00e676;
  color: black;
}

.roll-card {
  background: rgba(255,255,255,0.1);
  padding: 10px;
  margin: 10px 0;
  border-radius: 8px;
}

.result {
  margin-top: 20px;
  font-size: 20px;
  font-weight: bold;
}
</style>
</head>
<body>

<h1> Gerenciador de Rolagens</h1>

<div class="container">

<input id="rollName" placeholder="Nome (ex: Dano do Bast茫o)">
<input id="formula" placeholder="F贸rmula (ex: 1d4 + 3d6 + 3)">

<div class="dice">
<button onclick="addDice(4)">d4</button>
<button onclick="addDice(6)">d6</button>
<button onclick="addDice(8)">d8</button>
<button onclick="addDice(10)">d10</button>
<button onclick="addDice(12)">d12</button>
<button onclick="addDice(20)">d20</button>
</div>

<br>
<button class="action" onclick="saveFormula()"> Salvar F贸rmula</button>

<div class="result" id="result"></div>

<h2> F贸rmulas Salvas</h2>
<div id="list"></div>

</div>

<script>
<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Dice Manager</title>

<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>

<style>
body {
  font-family: Arial, sans-serif;
  background: linear-gradient(135deg,#0f2027,#203a43,#2c5364);
  color: white;
  text-align: center;
  padding: 30px;
}

.container {
  max-width: 600px;
  margin: auto;
}

input {
  padding: 10px;
  width: 90%;
  margin: 8px 0;
  border-radius: 8px;
  border: none;
}

button {
  padding: 10px 15px;
  margin: 5px;
  border-radius: 8px;
  border: none;
  cursor: pointer;
  font-weight: bold;
  transition: 0.2s;
}

button:hover {
  transform: scale(1.05);
}

.dice button {
  background: #ff9800;
  color: white;
}

.action {
  background: #00e676;
  color: black;
}

.roll-card {
  background: rgba(255,255,255,0.1);
  padding: 10px;
  margin: 10px 0;
  border-radius: 8px;
}

.result {
  margin-top: 20px;
  font-size: 20px;
  font-weight: bold;
}
</style>
</head>
<body>

<h1> Gerenciador de Rolagens</h1>

<div class="container">

<input id="rollName" placeholder="Nome (ex: Dano do Bast茫o)">
<input id="formula" placeholder="F贸rmula (ex: 1d4 + 3d6 + 3)">

<div class="dice">
<button onclick="addDice(4)">d4</button>
<button onclick="addDice(6)">d6</button>
<button onclick="addDice(8)">d8</button>
<button onclick="addDice(10)">d10</button>
<button onclick="addDice(12)">d12</button>
<button onclick="addDice(20)">d20</button>
</div>

<br>
<button class="action" onclick="saveFormula()"> Salvar F贸rmula</button>

<div class="result" id="result"></div>

<h2> F贸rmulas Salvas</h2>
<div id="list"></div>

</div>

<script>
<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Dice Manager</title>

<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>

<style>
body {
  font-family: Arial, sans-serif;
  background: linear-gradient(135deg,#0f2027,#203a43,#2c5364);
  color: white;
  text-align: center;
  padding: 30px;
}

.container {
  max-width: 600px;
  margin: auto;
}

input {
  padding: 10px;
  width: 90%;
  margin: 8px 0;
  border-radius: 8px;
  border: none;
}

button {
  padding: 10px 15px;
  margin: 5px;
  border-radius: 8px;
  border: none;
  cursor: pointer;
  font-weight: bold;
  transition: 0.2s;
}

button:hover {
  transform: scale(1.05);
}

.dice button {
  background: #ff9800;
  color: white;
}

.action {
  background: #00e676;
  color: black;
}

.roll-card {
  background: rgba(255,255,255,0.1);
  padding: 10px;
  margin: 10px 0;
  border-radius: 8px;
}

.result {
  margin-top: 20px;
  font-size: 20px;
  font-weight: bold;
}
</style>
</head>
<body>

<h1> Gerenciador de Rolagens</h1>

<div class="container">

<input id="rollName" placeholder="Nome (ex: Dano do Bast茫o)">
<input id="formula" placeholder="F贸rmula (ex: 1d4 + 3d6 + 3)">

<div class="dice">
<button onclick="addDice(4)">d4</button>
<button onclick="addDice(6)">d6</button>
<button onclick="addDice(8)">d8</button>
<button onclick="addDice(10)">d10</button>
<button onclick="addDice(12)">d12</button>
<button onclick="addDice(20)">d20</button>
</div>

<br>
<button class="action" onclick="saveFormula()"> Salvar F贸rmula</button>

<div class="result" id="result"></div>

<h2> F贸rmulas Salvas</h2>
<div id="list"></div>

</div>

<script>
//  COLOQUE SUAS CHAVES AQUI
const SUPABASE_URL = "SUA_URL_AQUI";
const SUPABASE_KEY = "SUA_ANON_KEY_AQUI";

const supabase = window.supabase.createClient(SUPABASE_URL, SUPABASE_KEY);

// adiciona dado
function addDice(sides) {
  const input = document.getElementById("formula");
  input.value += (input.value ? " + 1d" : "1d") + sides;
}

// salva f贸rmula
async function saveFormula() {
  const name = document.getElementById("rollName").value.trim();
  const formula = document.getElementById("formula").value.trim();

  if (!name || !formula) {
    alert("Preencha tudo!");
    return;
  }

  const { error } = await supabase
    .from("rolls")
    .insert([{ name, formula }]);

  if (error) {
    console.error(error);
    alert("Erro ao salvar. Veja o console.");
    return;
  }

  document.getElementById("rollName").value = "";
  document.getElementById("formula").value = "";

  loadFormulas();
}

// carrega f贸rmulas
async function loadFormulas() {
  const { data, error } = await supabase
    .from("rolls")
    .select("*")
    .order("created_at", { ascending: false });

  if (error) {
    console.error(error);
    return;
  }

  const list = document.getElementById("list");
  list.innerHTML = "";

  data.forEach(item => {
    const div = document.createElement("div");
    div.className = "roll-card";

    div.innerHTML = `
      <strong>${item.name}</strong><br>
      ${item.formula}
      <br>
      <button onclick="roll('${item.formula}')"> Rolar</button>
    `;

    list.appendChild(div);
  });
}

// rolar (NO SALVA resultado)
function roll(formula) {
  let total = 0;

  formula.split("+").forEach(part => {
    part = part.trim();

    if (part.includes("d")) {
      const [qty, sides] = part.split("d");
      for (let i = 0; i < parseInt(qty); i++) {
        total += Math.floor(Math.random() * parseInt(sides)) + 1;
      }
    } else {
      total += parseInt(part);
    }
  });

  document.getElementById("result").innerText =
    `Resultado: ${total}`;
}

// carrega ao abrir
loadFormulas();
</script>

</body>
</html>
const supabase = window.supabase.createClient(SUPABASE_URL, SUPABASE_KEY);

// adiciona dado
function addDice(sides) {
  const input = document.getElementById("formula");
  input.value += (input.value ? " + 1d" : "1d") + sides;
}

// salva f贸rmula
async function saveFormula() {
  const name = document.getElementById("rollName").value.trim();
  const formula = document.getElementById("formula").value.trim();

  if (!name || !formula) {
    alert("Preencha tudo!");
    return;
  }

  const { error } = await supabase
    .from("rolls")
    .insert([{ name, formula }]);

  if (error) {
    console.error(error);
    alert("Erro ao salvar. Veja o console.");
    return;
  }

  document.getElementById("rollName").value = "";
  document.getElementById("formula").value = "";

  loadFormulas();
}

// carrega f贸rmulas
async function loadFormulas() {
  const { data, error } = await supabase
    .from("rolls")
    .select("*")
    .order("created_at", { ascending: false });

  if (error) {
    console.error(error);
    return;
  }

  const list = document.getElementById("list");
  list.innerHTML = "";

  data.forEach(item => {
    const div = document.createElement("div");
    div.className = "roll-card";

    div.innerHTML = `
      <strong>${item.name}</strong><br>
      ${item.formula}
      <br>
      <button onclick="roll('${item.formula}')"> Rolar</button>
    `;

    list.appendChild(div);
  });
}

// rolar (NO SALVA resultado)
function roll(formula) {
  let total = 0;

  formula.split("+").forEach(part => {
    part = part.trim();

    if (part.includes("d")) {
      const [qty, sides] = part.split("d");
      for (let i = 0; i < parseInt(qty); i++) {
        total += Math.floor(Math.random() * parseInt(sides)) + 1;
      }
    } else {
      total += parseInt(part);
    }
  });

  document.getElementById("result").innerText =
    `Resultado: ${total}`;
}

// carrega ao abrir
loadFormulas();
</script>

</body>
</html>
const supabase = window.supabase.createClient(SUPABASE_URL, SUPABASE_KEY);

// adiciona dado
function addDice(sides) {
  const input = document.getElementById("formula");
  input.value += (input.value ? " + 1d" : "1d") + sides;
}

// salva f贸rmula
async function saveFormula() {
  const name = document.getElementById("rollName").value.trim();
  const formula = document.getElementById("formula").value.trim();

  if (!name || !formula) {
    alert("Preencha tudo!");
    return;
  }

  const { error } = await supabase
    .from("rolls")
    .insert([{ name, formula }]);

  if (error) {
    console.error(error);
    alert("Erro ao salvar. Veja o console.");
    return;
  }

  document.getElementById("rollName").value = "";
  document.getElementById("formula").value = "";

  loadFormulas();
}

// carrega f贸rmulas
async function loadFormulas() {
  const { data, error } = await supabase
    .from("rolls")
    .select("*")
    .order("created_at", { ascending: false });

  if (error) {
    console.error(error);
    return;
  }

  const list = document.getElementById("list");
  list.innerHTML = "";

  data.forEach(item => {
    const div = document.createElement("div");
    div.className = "roll-card";

    div.innerHTML = `
      <strong>${item.name}</strong><br>
      ${item.formula}
      <br>
      <button onclick="roll('${item.formula}')"> Rolar</button>
    `;

    list.appendChild(div);
  });
}

// rolar (NO SALVA resultado)
function roll(formula) {
  let total = 0;

  formula.split("+").forEach(part => {
    part = part.trim();

    if (part.includes("d")) {
      const [qty, sides] = part.split("d");
      for (let i = 0; i < parseInt(qty); i++) {
        total += Math.floor(Math.random() * parseInt(sides)) + 1;
      }
    } else {
      total += parseInt(part);
    }
  });

  document.getElementById("result").innerText =
    `Resultado: ${total}`;
}

// carrega ao abrir
loadFormulas();
</script>

</body>
</html>
